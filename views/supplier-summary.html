{{ define "supplier-summary" }}
<div class="body-width">
  <div class="overflow-auto">
    <table class="striped">
      <thead>
        <tr>
          <th><input type="number" step="1"   placeholder="Solicitud"     onkeyup="filterTable(this)"></th>
          <th><input type="text"              placeholder="Requerido"     onkeyup="filterTable(this)"></th>
          <th><input type="text"              placeholder="Detalle"       onkeyup="filterTable(this)"></th>
          <th><input type="number" step="any" placeholder="Monto Bruto"   onkeyup="filterTable(this)"></th>
          <th><input type="number" step="any" placeholder="Monto Total"   onkeyup="filterTable(this)"></th>
        </tr>
      </thead>
      <tbody>
        {{ range .Purchases }}
        <tr>
          <td style="display:flex;justify-content:right">
            <span style="margin:0 0.3rem">{{ .ReqID }}</span>
            <!-- TODO: Don't try to implement this, just load all documents and figure out how to render them later -->
            <!-- <a style="margin:0 0.3rem" href="/doc/p/{{ .ReqID }}?supplier_token={{ $.SupplierToken }}" target="_blank">Proforma</a> -->
          </td>
          <td>{{ unixDateLong .PurchaseRequired }}</td>
          <td>{{ summary .ReqDescr 40 }}</td>
          <td style="text-align:right;">{{ currency .PurchaseGrossAmount }}</td>
          <td style="text-align:right;">{{ currency (opSum .PurchaseGrossAmount (opMult .PurchaseTaxRate .PurchaseGrossAmount)) }}</td>
        </tr>
        {{ end }}
      </tbody>
    </table>
  </div>
{{ end }}
